# ExaChemQFlowConfig.cmake
# Configuration file for the ExaChemQFlow library

# Set the version
set(ExaChemQFlow_VERSION 1.0.0)

# Get the directory containing this configuration file
get_filename_component(ExaChemQFlow_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH)

# Find required dependencies
find_package(NLopt REQUIRED PATHS "${ExaChemQFlow_CMAKE_DIR}/../lib/cmake/nlopt" NO_DEFAULT_PATH)

# Include the exported targets
include("${ExaChemQFlow_CMAKE_DIR}/ExaChemQFlowTargets.cmake")

# Set variables for backward compatibility
set(ExaChemQFlow_INCLUDE_DIRS "${ExaChemQFlow_CMAKE_DIR}/include")
set(ExaChemQFlow_LIBRARY_DIRS "${ExaChemQFlow_CMAKE_DIR}/lib")

# Find the library for backward compatibility
find_library(ExaChemQFlow_LIBRARIES
    NAMES exachem_qflow_lib
    PATHS ${ExaChemQFlow_LIBRARY_DIRS}
    NO_DEFAULT_PATH
)

# Set found status
if(TARGET ExaChemQFlow::exachem_qflow_lib)
    set(ExaChemQFlow_FOUND TRUE)
    message(STATUS "Found ExaChemQFlow: ${ExaChemQFlow_CMAKE_DIR}")
else()
    set(ExaChemQFlow_FOUND FALSE)
    message(WARNING "ExaChemQFlow targets not found")
endif()

# Provide information about the found package
if(ExaChemQFlow_FOUND)
    message(STATUS "ExaChemQFlow version: ${ExaChemQFlow_VERSION}")
    message(STATUS "ExaChemQFlow include dirs: ${ExaChemQFlow_INCLUDE_DIRS}")
    if(ExaChemQFlow_LIBRARIES)
        message(STATUS "ExaChemQFlow libraries: ${ExaChemQFlow_LIBRARIES}")
    endif()
endif()
